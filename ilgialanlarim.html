<!DOCTYPE HTML>


<html>
    <head>
        <title>Soccer Live Score</title>   
        <link rel="stylesheet" href="style.css">
    </head>
    
    <body>
        <div class="container">
            <h1>ScoreBoard</h1>
            <div class="title-box">
                <p>Local Team</p>
                <p id="elapsed">45'</p>
                <p>Visitor Team</p>
            </div>
            <div class="title-box">
                <div class="team">
                    <img  id="homeLogo" >
                    <p id="homeName">Team name</p>
                </div>
                <p id="goals">3  -  1</p>
                <div class="team">
                    <img id="awayLogo">
                    <p id="awayName">Team name</p>
                </div>
                 
            </div>
            <hr>
            <div id="matchTable" class="matches-table">

            </div>
        </div>
       <script>//getting the DOM elements
        var elapsedTime = document.querySelector("#elapsed");
        var homeTeamImage = document.querySelector("#homeLogo");
        var homeTeamName = document.querySelector("#homeName");
        var awayTeamImage = document.querySelector("#awayLogo");
        var awayTeamName = document.querySelector("#awayName");
        var lastMatchGoal = document.querySelector("#goals");
        var matchTable = document.querySelector("#matchTable");
        
        
        //the functions to create an element
        function addMatchTile(data){
            //createing the tile div
            var matchtile = document.createElement('div');
            matchtile.classList.add("match-tile");
        
            //creating the home match box
            var homeTeam = document.createElement('div');
            homeTeam.classList.add("team");
            //creating the image and the text
            var homeTileTeamName = document.createElement('p');
            homeTileTeamName.innerHTML = data['teams']['home']['name'];
            var homeTileTeamLogo = document.createElement('img');
            homeTileTeamLogo.src=data['teams']['home']['logo'];
            homeTeam.appendChild(homeTileTeamLogo);
            homeTeam.appendChild(homeTileTeamName);
        
            var awayTeam = document.createElement('div');
            awayTeam.classList.add("team");
            //creating the image and the text
            var awayTileTeamName = document.createElement('p');
            awayTileTeamName.innerHTML = data['teams']['away']['name'];
            var awayTileTeamLogo = document.createElement('img');
            awayTileTeamLogo.src=data['teams']['away']['logo'];
            awayTeam.appendChild(awayTileTeamLogo);
            awayTeam.appendChild(awayTileTeamName);
        
            //createing the score
            var score = document.createElement('p');
            score.innerHTML = data['goals']['home'] + " - " + data['goals']['away'];
        
            //append all the element to the parent
            matchtile.appendChild(homeTeam);
            matchtile.appendChild(score);
            matchtile.appendChild(awayTeam);
        
            matchTable.appendChild(matchtile);
        }
        //fetching the data
        fetch("https://v3.football.api-sports.io/fixtures?live=all", {
            "method": "GET",
            "headers": {
                "x-rapidapi-host": "v3.football.api-sports.io",
                "x-rapidapi-key": "	cd97a22fae7443529900f82361b416e0"
            }
        })
        .then(response => response.json().then(data => {
            var matchesList = data['response'];
            var fixture = matchesList[0]['fixture'];
            var goals = matchesList[0]['goals'];
            var teams = matchesList[0]['teams'];
            console.log(matchesList.length);
           //Now let's set our first match
           elapsedTime.innerHTML = fixture['status']['elapsed'] + "'";
           homeTeamImage.src = teams['home']['logo'];
           homeTeamName.innerHTML = teams['home']['name'];
           awayTeamImage.src = teams['away']['logo'];
           awayTeamName.innerHTML = teams['away']['name'];
           lastMatchGoal.innerHTML = goals['home']+ " - " + goals['away'];
        
           for(var i = 1; i<matchesList.length;i++){
               addMatchTile(matchesList[i]);
           }
        
        }))
        .catch(err => {
            console.log(err);
        });</script>
    </body>
</html>
